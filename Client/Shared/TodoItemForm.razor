@inject HttpClient Http

<MudForm Model="@_todoItem" OnSubmit="@ItemAdded">
    <MudStack Row="true" AlignItems="AlignItems.Center" Style="width: 400px;">
        <MudText><b>Text:</b></MudText>
        <MudTextField 
          @bind-Value="_todoItem.Text" 
          Variant="Variant.Outlined"
          Class="mr-3" 
          Margin="Margin.Dense"
          id="Item" />
        <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mr-3" value="Add" OnClick=@ItemAdded >Add</MudButton>
        <MudButton Variant="Variant.Outlined" Color="Color.Secondary" value="Clear" OnClick=@(() => _todoItem.Text = "") >Clear</MudButton>
    </MudStack>
</MudForm>

@code {
  [Parameter]
  public required Action OnItemAdded { get; set; }

  private TodoItem _todoItem = new TodoItem("");

  public async Task ItemAdded() {
    if (_todoItem.Text == "") {
      return;
    }
    await Http.PostAsJsonAsync("Todo", _todoItem);

    if (OnItemAdded != null) {
      OnItemAdded();
      _todoItem = new TodoItem("");
    }

  }
}